{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import{useSearchParams,useNavigate}from'react-router-dom';import ProductService from'../services/ProductService';import SearchResults from'../services/SearchResults';import UserContext from'../../contexts/UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";const SearchResultsPage=()=>{const{profile}=useContext(UserContext);const[searchParams]=useSearchParams();const searchQuery=searchParams.get('q')||'';const[searchResults,setSearchResults]=useState([]);const navigate=useNavigate();useEffect(()=>{ProductService.getAllProducts().then(data=>{const filteredProducts=data.filter(product=>product.title.toLowerCase().includes(searchQuery.toLowerCase()));setSearchResults(filteredProducts);}).catch(error=>{console.error('Error fetching products:',error);});},[searchQuery]);const addToCart=product=>{if(profile){// Add the product to the cart (implement your logic here)\nconsole.log('Added to cart:',product);}else{// Redirect user to login page\nnavigate('/login');}};return/*#__PURE__*/_jsx(SearchResults,{results:searchResults,addToCart:addToCart});};export default SearchResultsPage;","map":{"version":3,"names":["React","useState","useEffect","useContext","useSearchParams","useNavigate","ProductService","SearchResults","UserContext","jsx","_jsx","SearchResultsPage","profile","searchParams","searchQuery","get","searchResults","setSearchResults","navigate","getAllProducts","then","data","filteredProducts","filter","product","title","toLowerCase","includes","catch","error","console","addToCart","log","results"],"sources":["/workspace/Ecommerce-site/src/components/services/SearchResultsPage.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport ProductService from '../services/ProductService';\nimport SearchResults from '../services/SearchResults';\nimport UserContext from '../../contexts/UserContext';\n\nconst SearchResultsPage = () => {\n  const { profile } = useContext(UserContext);\n  const [searchParams] = useSearchParams();\n  const searchQuery = searchParams.get('q') || '';\n  const [searchResults, setSearchResults] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    ProductService.getAllProducts()\n      .then((data) => {\n        const filteredProducts = data.filter((product) =>\n          product.title.toLowerCase().includes(searchQuery.toLowerCase())\n        );\n        setSearchResults(filteredProducts);\n      })\n      .catch((error) => {\n        console.error('Error fetching products:', error);\n      });\n  }, [searchQuery]);\n\n  const addToCart = (product) => {\n    if (profile) {\n      // Add the product to the cart (implement your logic here)\n      console.log('Added to cart:', product);\n    } else {\n      // Redirect user to login page\n      navigate('/login');\n    }\n  };\n\n  return <SearchResults results={searchResults} addToCart={addToCart} />;\n};\n\nexport default SearchResultsPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC9D,OAASC,eAAe,CAAEC,WAAW,KAAQ,kBAAkB,CAC/D,MAAO,CAAAC,cAAc,KAAM,4BAA4B,CACvD,MAAO,CAAAC,aAAa,KAAM,2BAA2B,CACrD,MAAO,CAAAC,WAAW,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErD,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAAEC,OAAQ,CAAC,CAAGT,UAAU,CAACK,WAAW,CAAC,CAC3C,KAAM,CAACK,YAAY,CAAC,CAAGT,eAAe,CAAC,CAAC,CACxC,KAAM,CAAAU,WAAW,CAAGD,YAAY,CAACE,GAAG,CAAC,GAAG,CAAC,EAAI,EAAE,CAC/C,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAAiB,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9BH,SAAS,CAAC,IAAM,CACdI,cAAc,CAACa,cAAc,CAAC,CAAC,CAC5BC,IAAI,CAAEC,IAAI,EAAK,CACd,KAAM,CAAAC,gBAAgB,CAAGD,IAAI,CAACE,MAAM,CAAEC,OAAO,EAC3CA,OAAO,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACb,WAAW,CAACY,WAAW,CAAC,CAAC,CAChE,CAAC,CACDT,gBAAgB,CAACK,gBAAgB,CAAC,CACpC,CAAC,CAAC,CACDM,KAAK,CAAEC,KAAK,EAAK,CAChBC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CAAC,CAAC,CACN,CAAC,CAAE,CAACf,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAAiB,SAAS,CAAIP,OAAO,EAAK,CAC7B,GAAIZ,OAAO,CAAE,CACX;AACAkB,OAAO,CAACE,GAAG,CAAC,gBAAgB,CAAER,OAAO,CAAC,CACxC,CAAC,IAAM,CACL;AACAN,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAC,CAED,mBAAOR,IAAA,CAACH,aAAa,EAAC0B,OAAO,CAAEjB,aAAc,CAACe,SAAS,CAAEA,SAAU,CAAE,CAAC,CACxE,CAAC,CAED,cAAe,CAAApB,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}