{"ast":null,"code":"var _jsxFileName = \"/workspace/Ecommerce-site/src/components/services/SearchResultsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport ProductService from '../services/ProductService';\nimport SearchResults from '../services/SearchResults';\nimport UserContext from '../../contexts/UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchResultsPage = () => {\n  _s();\n  const {\n    profile\n  } = useContext(UserContext);\n  const [searchParams] = useSearchParams();\n  const searchQuery = searchParams.get('q') || '';\n  const [searchResults, setSearchResults] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    ProductService.getAllProducts().then(data => {\n      const filteredProducts = data.filter(product => product.title.toLowerCase().includes(searchQuery.toLowerCase()));\n      setSearchResults(filteredProducts);\n    }).catch(error => {\n      console.error('Error fetching products:', error);\n    });\n  }, [searchQuery]);\n  const addToCart = product => {\n    if (profile) {\n      // Add the product to the cart (implement your logic here)\n      console.log('Added to cart:', product);\n    } else {\n      // Redirect user to login page\n      navigate('/login');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(SearchResults, {\n    results: searchResults,\n    addToCart: addToCart\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 10\n  }, this);\n};\n_s(SearchResultsPage, \"dblLSDiTGhKtJs55IWKsy+loexI=\", false, function () {\n  return [useSearchParams, useNavigate];\n});\n_c = SearchResultsPage;\nexport default SearchResultsPage;\nvar _c;\n$RefreshReg$(_c, \"SearchResultsPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useSearchParams","useNavigate","ProductService","SearchResults","UserContext","jsxDEV","_jsxDEV","SearchResultsPage","_s","profile","searchParams","searchQuery","get","searchResults","setSearchResults","navigate","getAllProducts","then","data","filteredProducts","filter","product","title","toLowerCase","includes","catch","error","console","addToCart","log","results","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/workspace/Ecommerce-site/src/components/services/SearchResultsPage.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport ProductService from '../services/ProductService';\nimport SearchResults from '../services/SearchResults';\nimport UserContext from '../../contexts/UserContext';\n\nconst SearchResultsPage = () => {\n  const { profile } = useContext(UserContext);\n  const [searchParams] = useSearchParams();\n  const searchQuery = searchParams.get('q') || '';\n  const [searchResults, setSearchResults] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    ProductService.getAllProducts()\n      .then((data) => {\n        const filteredProducts = data.filter((product) =>\n          product.title.toLowerCase().includes(searchQuery.toLowerCase())\n        );\n        setSearchResults(filteredProducts);\n      })\n      .catch((error) => {\n        console.error('Error fetching products:', error);\n      });\n  }, [searchQuery]);\n\n  const addToCart = (product) => {\n    if (profile) {\n      // Add the product to the cart (implement your logic here)\n      console.log('Added to cart:', product);\n    } else {\n      // Redirect user to login page\n      navigate('/login');\n    }\n  };\n\n  return <SearchResults results={searchResults} addToCart={addToCart} />;\n};\n\nexport default SearchResultsPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,eAAe,EAAEC,WAAW,QAAQ,kBAAkB;AAC/D,OAAOC,cAAc,MAAM,4BAA4B;AACvD,OAAOC,aAAa,MAAM,2BAA2B;AACrD,OAAOC,WAAW,MAAM,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,MAAM;IAAEC;EAAQ,CAAC,GAAGV,UAAU,CAACK,WAAW,CAAC;EAC3C,MAAM,CAACM,YAAY,CAAC,GAAGV,eAAe,CAAC,CAAC;EACxC,MAAMW,WAAW,GAAGD,YAAY,CAACE,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE;EAC/C,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAMkB,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAE9BH,SAAS,CAAC,MAAM;IACdI,cAAc,CAACc,cAAc,CAAC,CAAC,CAC5BC,IAAI,CAAEC,IAAI,IAAK;MACd,MAAMC,gBAAgB,GAAGD,IAAI,CAACE,MAAM,CAAEC,OAAO,IAC3CA,OAAO,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACb,WAAW,CAACY,WAAW,CAAC,CAAC,CAChE,CAAC;MACDT,gBAAgB,CAACK,gBAAgB,CAAC;IACpC,CAAC,CAAC,CACDM,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD,CAAC,CAAC;EACN,CAAC,EAAE,CAACf,WAAW,CAAC,CAAC;EAEjB,MAAMiB,SAAS,GAAIP,OAAO,IAAK;IAC7B,IAAIZ,OAAO,EAAE;MACX;MACAkB,OAAO,CAACE,GAAG,CAAC,gBAAgB,EAAER,OAAO,CAAC;IACxC,CAAC,MAAM;MACL;MACAN,QAAQ,CAAC,QAAQ,CAAC;IACpB;EACF,CAAC;EAED,oBAAOT,OAAA,CAACH,aAAa;IAAC2B,OAAO,EAAEjB,aAAc;IAACe,SAAS,EAAEA;EAAU;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACxE,CAAC;AAAC1B,EAAA,CA/BID,iBAAiB;EAAA,QAEEP,eAAe,EAGrBC,WAAW;AAAA;AAAAkC,EAAA,GALxB5B,iBAAiB;AAiCvB,eAAeA,iBAAiB;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}