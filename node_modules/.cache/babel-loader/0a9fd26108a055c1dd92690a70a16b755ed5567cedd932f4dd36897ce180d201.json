{"ast":null,"code":"var _jsxFileName = \"/workspace/Ecommerce-site/src/components/auth/Register.js\",\n  _s = $RefreshSig$();\nimport { CognitoUser, CognitoUserAttribute } from 'amazon-cognito-identity-js';\nimport { useState } from 'react';\nimport UserPool from '../../UserPool';\nimport './register.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Register() {\n  _s();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [verifyProcess, setVerifyProcess] = useState(false);\n  const [OTP, setOTP] = useState('');\n  const onSubmit = e => {\n    e.preventDefault();\n    const attributeList = [];\n    attributeList.push(new CognitoUserAttribute({\n      Name: 'email',\n      Value: email\n    }));\n    UserPool.signUp(username, password, attributeList, null, (err, data) => {\n      if (err) {\n        console.log(err);\n        alert(\"Couldn't sign up\");\n      } else {\n        console.log(data);\n        setVerifyProcess(true);\n        alert('User Added Successfully');\n      }\n    });\n  };\n  const verifyAccount = e => {\n    e.preventDefault();\n    const user = new CognitoUser({\n      Username: username,\n      Pool: UserPool\n    });\n    console.log(user);\n    user.confirmRegistration(OTP, true, (err, data) => {\n      if (err) {\n        console.log(err);\n        alert(\"Couldn't verify account\");\n      } else {\n        console.log(data);\n        alert('Account verified successfully');\n        window.location.href = '/login';\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register\",\n    children: verifyProcess === false ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [\"UserName:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: username.toLowerCase().trim(),\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), \"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), \"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"reg\",\n        type: \"submit\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: verifyAccount,\n      children: [\"Enter the OTP:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: OTP,\n        onChange: e => setOTP(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Verify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"FaEDZkR/EeEr7UTDKjZExFfOTzQ=\");\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["CognitoUser","CognitoUserAttribute","useState","UserPool","jsxDEV","_jsxDEV","Register","_s","username","setUsername","email","setEmail","password","setPassword","verifyProcess","setVerifyProcess","OTP","setOTP","onSubmit","e","preventDefault","attributeList","push","Name","Value","signUp","err","data","console","log","alert","verifyAccount","user","Username","Pool","confirmRegistration","window","location","href","className","children","type","value","toLowerCase","trim","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/workspace/Ecommerce-site/src/components/auth/Register.js"],"sourcesContent":["import { CognitoUser, CognitoUserAttribute } from 'amazon-cognito-identity-js';\r\nimport { useState } from 'react';\r\nimport UserPool from '../../UserPool';\r\nimport './register.css';\r\n\r\nfunction Register() {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [verifyProcess, setVerifyProcess] = useState(false);\r\n  const [OTP, setOTP] = useState('');\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const attributeList = [];\r\n    attributeList.push(\r\n      new CognitoUserAttribute({\r\n        Name: 'email',\r\n        Value: email,\r\n      })\r\n    );\r\n    UserPool.signUp(username, password, attributeList, null, (err, data) => {\r\n      if (err) {\r\n        console.log(err);\r\n        alert(\"Couldn't sign up\");\r\n      } else {\r\n        console.log(data);\r\n        setVerifyProcess(true);\r\n        alert('User Added Successfully');\r\n      }\r\n    });\r\n  };\r\n\r\n  const verifyAccount = (e) => {\r\n    e.preventDefault();\r\n    const user = new CognitoUser({\r\n      Username: username,\r\n      Pool: UserPool,\r\n    });\r\n    console.log(user);\r\n    user.confirmRegistration(OTP, true, (err, data) => {\r\n      if (err) {\r\n        console.log(err);\r\n        alert(\"Couldn't verify account\");\r\n      } else {\r\n        console.log(data);\r\n        alert('Account verified successfully');\r\n        window.location.href = '/login';\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      {verifyProcess === false ? (\r\n        <form onSubmit={onSubmit}>\r\n          UserName:\r\n          <input\r\n            type=\"text\"\r\n            value={username.toLowerCase().trim()}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n          <br />\r\n          Email:\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <br />\r\n          Password:\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <br />\r\n          <button className=\"reg\" type=\"submit\">Register</button>\r\n        </form>\r\n      ) : (\r\n        <form onSubmit={verifyAccount}>\r\n          Enter the OTP:\r\n          <input\r\n            type=\"text\"\r\n            value={OTP}\r\n            onChange={(e) => setOTP(e.target.value)}\r\n          />\r\n          <br />\r\n          <button type=\"submit\">Verify</button>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;"],"mappings":";;AAAA,SAASA,WAAW,EAAEC,oBAAoB,QAAQ,4BAA4B;AAC9E,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,QAAQ,MAAM,gBAAgB;AACrC,OAAO,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExB,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAClB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,aAAa,EAAEC,gBAAgB,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACc,GAAG,EAAEC,MAAM,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAElC,MAAMgB,QAAQ,GAAIC,CAAC,IAAK;IACtBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,MAAMC,aAAa,GAAG,EAAE;IACxBA,aAAa,CAACC,IAAI,CAChB,IAAIrB,oBAAoB,CAAC;MACvBsB,IAAI,EAAE,OAAO;MACbC,KAAK,EAAEd;IACT,CAAC,CACH,CAAC;IACDP,QAAQ,CAACsB,MAAM,CAACjB,QAAQ,EAAEI,QAAQ,EAAES,aAAa,EAAE,IAAI,EAAE,CAACK,GAAG,EAAEC,IAAI,KAAK;MACtE,IAAID,GAAG,EAAE;QACPE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;QAChBI,KAAK,CAAC,kBAAkB,CAAC;MAC3B,CAAC,MAAM;QACLF,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjBZ,gBAAgB,CAAC,IAAI,CAAC;QACtBe,KAAK,CAAC,yBAAyB,CAAC;MAClC;IACF,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,aAAa,GAAIZ,CAAC,IAAK;IAC3BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,MAAMY,IAAI,GAAG,IAAIhC,WAAW,CAAC;MAC3BiC,QAAQ,EAAEzB,QAAQ;MAClB0B,IAAI,EAAE/B;IACR,CAAC,CAAC;IACFyB,OAAO,CAACC,GAAG,CAACG,IAAI,CAAC;IACjBA,IAAI,CAACG,mBAAmB,CAACnB,GAAG,EAAE,IAAI,EAAE,CAACU,GAAG,EAAEC,IAAI,KAAK;MACjD,IAAID,GAAG,EAAE;QACPE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;QAChBI,KAAK,CAAC,yBAAyB,CAAC;MAClC,CAAC,MAAM;QACLF,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjBG,KAAK,CAAC,+BAA+B,CAAC;QACtCM,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;MACjC;IACF,CAAC,CAAC;EACJ,CAAC;EAED,oBACEjC,OAAA;IAAKkC,SAAS,EAAC,UAAU;IAAAC,QAAA,EACtB1B,aAAa,KAAK,KAAK,gBACtBT,OAAA;MAAMa,QAAQ,EAAEA,QAAS;MAAAsB,QAAA,GAAC,WAExB,eAAAnC,OAAA;QACEoC,IAAI,EAAC,MAAM;QACXC,KAAK,EAAElC,QAAQ,CAACmC,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAE;QACrCC,QAAQ,EAAG1B,CAAC,IAAKV,WAAW,CAACU,CAAC,CAAC2B,MAAM,CAACJ,KAAK;MAAE;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CAAC,eACF7C,OAAA;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,UAEN,eAAA7C,OAAA;QACEoC,IAAI,EAAC,OAAO;QACZC,KAAK,EAAEhC,KAAM;QACbmC,QAAQ,EAAG1B,CAAC,IAAKR,QAAQ,CAACQ,CAAC,CAAC2B,MAAM,CAACJ,KAAK;MAAE;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC,eACF7C,OAAA;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,aAEN,eAAA7C,OAAA;QACEoC,IAAI,EAAC,UAAU;QACfC,KAAK,EAAE9B,QAAS;QAChBiC,QAAQ,EAAG1B,CAAC,IAAKN,WAAW,CAACM,CAAC,CAAC2B,MAAM,CAACJ,KAAK;MAAE;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CAAC,eACF7C,OAAA;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACN7C,OAAA;QAAQkC,SAAS,EAAC,KAAK;QAACE,IAAI,EAAC,QAAQ;QAAAD,QAAA,EAAC;MAAQ;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnD,CAAC,gBAEP7C,OAAA;MAAMa,QAAQ,EAAEa,aAAc;MAAAS,QAAA,GAAC,gBAE7B,eAAAnC,OAAA;QACEoC,IAAI,EAAC,MAAM;QACXC,KAAK,EAAE1B,GAAI;QACX6B,QAAQ,EAAG1B,CAAC,IAAKF,MAAM,CAACE,CAAC,CAAC2B,MAAM,CAACJ,KAAK;MAAE;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzC,CAAC,eACF7C,OAAA;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACN7C,OAAA;QAAQoC,IAAI,EAAC,QAAQ;QAAAD,QAAA,EAAC;MAAM;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjC;EACP;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAC3C,EAAA,CAxFQD,QAAQ;AAAA6C,EAAA,GAAR7C,QAAQ;AA0FjB,eAAeA,QAAQ;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}