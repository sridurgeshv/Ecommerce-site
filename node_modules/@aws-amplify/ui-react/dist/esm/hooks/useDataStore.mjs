import*as e from"react";import{DataStore as t}from"@aws-amplify/datastore";const r=({model:r,criteria:i,pagination:s})=>{const[o,a]=e.useState({items:[],isLoading:!1,error:void 0});return e.useEffect((()=>{a({isLoading:!0,items:[]});const e=t.observeQuery(r,i,s).subscribe((e=>a({items:e.items,isLoading:!1})),(e=>a({items:[],error:e,isLoading:!1})));if(e)return()=>e.unsubscribe()}),[]),o},i=({model:r,id:i})=>{const[s,o]=e.useState(),[a,n]=e.useState(!1),[u,c]=e.useState();return e.useEffect((()=>{n(!0),t.query(r,i).then(o).catch(c).finally((()=>n(!1)))}),[]),{error:u,item:s,isLoading:a}};function s(e){return"record"===e.type?i(e):r(e)}export{s as useDataStoreBinding,r as useDataStoreCollection,i as useDataStoreItem};
