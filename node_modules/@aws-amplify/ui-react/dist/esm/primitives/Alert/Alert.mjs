import{__rest as e}from"tslib";import*as t from"react";import s from"classnames";import{isFunction as i,classNameModifier as o}from"@aws-amplify/ui";import{ComponentClassNames as a,ComponentText as r}from"../shared/constants.mjs";import{View as m}from"../View/View.mjs";import{Flex as n}from"../Flex/Flex.mjs";import{Button as l}from"../Button/Button.mjs";import{AlertIcon as c}from"./AlertIcon.mjs";import"../Icon/Icon.mjs";import"../Icon/context/IconsContext.mjs";import{useIcons as d}from"../Icon/context/useIcons.mjs";import{IconClose as f}from"../Icon/icons/IconClose.mjs";const p=t.forwardRef(((p,u)=>{var b,{buttonRef:I,children:j,className:h,dismissButtonLabel:v=r.Alert.dismissButtonLabel,hasIcon:A=!0,heading:x,isDismissible:E=!1,onDismiss:N,variation:B}=p,D=e(p,["buttonRef","children","className","dismissButtonLabel","hasIcon","heading","isDismissible","onDismiss","variation"]);const[g,w]=t.useState(!1),C=d("alert"),L=t.useCallback((()=>{w(!g),i(N)&&N()}),[w,N,g]);return g?null:t.createElement(n,Object.assign({className:s(a.Alert,h,o(a.Alert,B)),"data-variation":B,ref:u,role:"alert"},D),A&&t.createElement(c,{variation:B,ariaHidden:!0}),t.createElement(m,{flex:"1"},x&&t.createElement(m,{className:a.AlertHeading},x),t.createElement(m,{className:a.AlertBody},j)),E&&t.createElement(l,{ariaLabel:v,variation:"link",className:a.AlertDismiss,onClick:L,ref:I},null!==(b=null==C?void 0:C.close)&&void 0!==b?b:t.createElement(f,{"aria-hidden":"true"})))}));p.displayName="Alert";export{p as Alert};
