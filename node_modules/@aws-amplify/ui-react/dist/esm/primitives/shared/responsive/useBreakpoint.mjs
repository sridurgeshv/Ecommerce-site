import*as e from"react";import{getMediaQueries as t}from"./getMediaQueries.mjs";const n="undefined"==typeof window?e.useEffect:e.useLayoutEffect,o=({breakpoints:o,defaultBreakpoint:a})=>{const r="undefined"!=typeof window&&void 0!==window.matchMedia?window.matchMedia:null,i=e.useMemo((()=>t({breakpoints:o})),[o]),[s,u]=e.useState(a),c=e.useCallback(((e,t)=>{e&&u(t)}),[u]);return n((()=>{if(!r)return;const e=i.map((({query:e,breakpoint:t})=>{const n=r(e);c(n.matches,t);const o=e=>{e.matches&&u(t)};return n.addEventListener("change",o),()=>n.removeEventListener("change",o)}));return()=>{e.forEach((e=>e()))}}),[o,u,r,i]),e.useDebugValue(s,(e=>e)),s};export{o as useBreakpoint};
