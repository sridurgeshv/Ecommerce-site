import{__rest as e}from"tslib";import*as l from"react";import o from"classnames";import{classNameModifier as t,classNameModifierByFlag as a}from"@aws-amplify/ui";import{ComponentClassNames as r}from"../shared/constants.mjs";import{Flex as i}from"../Flex/Flex.mjs";import"../Icon/Icon.mjs";import"../Icon/context/IconsContext.mjs";import{useIcons as s}from"../Icon/context/useIcons.mjs";import{View as c}from"../View/View.mjs";import{IconExpandMore as m}from"../Icon/icons/IconExpandMore.mjs";import{useFieldset as n}from"../Fieldset/useFieldset.mjs";const p=l.forwardRef(((p,d)=>{var u,{autoComplete:f,className:v,size:S,variation:I,value:j,defaultValue:x,hasError:E,icon:h,iconColor:C,children:b,placeholder:z,isDisabled:F,isRequired:N,isMultiple:V=!1,selectSize:w=1}=p,D=e(p,["autoComplete","className","size","variation","value","defaultValue","hasError","icon","iconColor","children","placeholder","isDisabled","isRequired","isMultiple","selectSize"]);const q=void 0===j&&void 0===x&&z,M=V||w>1,R=o(r.Select,r.FieldGroupControl,t(r.Select,S),t(r.Select,I),a(r.Select,"error",E),a(r.Select,"expanded",M),v),W=s("select"),{isFieldsetDisabled:y}=n();return l.createElement(c,{className:r.SelectWrapper},l.createElement(c,Object.assign({"aria-invalid":E,as:"select",autoComplete:f,value:j,defaultValue:q?"":x,isDisabled:y||F,multiple:V,size:w,required:N,"data-size":S,"data-variation":I,className:R,ref:d},D),z&&l.createElement("option",{value:""},z),b),M?null:l.createElement(i,{className:o(r.SelectIconWrapper,t(r.SelectIconWrapper,S)),color:C},null!==(u=null!=h?h:null==W?void 0:W.expand)&&void 0!==u?u:l.createElement(m,null)))}));p.displayName="Select";export{p as Select};
