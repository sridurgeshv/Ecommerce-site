import{useState as e}from"react";import{isFunction as r}from"@aws-amplify/ui";import{filterAllowedFiles as t}from"./filterAllowedFiles.mjs";function a({onDropComplete:a,onDragEnter:o,onDragLeave:n,onDragOver:p,onDragStart:i,onDrop:c,acceptedFileTypes:s=[]}){const[f,l]=e("inactive");return{onDragStart:e=>{e.dataTransfer.clearData(),r(i)&&i(e)},onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),r(o)&&o(e)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),l("inactive"),r(n)&&n(e)},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",r(p)&&p(e);const a=Array.from(e.dataTransfer.items).map((({kind:e,type:r})=>({kind:e,type:r}))),{rejectedFiles:o}=t(a,s);l(o.length>0?"reject":"accept")},onDrop:e=>{e.preventDefault(),e.stopPropagation(),l("inactive");const o=Array.from(e.dataTransfer.files),{acceptedFiles:n,rejectedFiles:p}=t(o,s);r(c)&&c(e),r(a)&&a({acceptedFiles:n,rejectedFiles:p})},dragState:f}}export{a as useDropZone};
