import{__rest as e}from"tslib";import r from"classnames";import*as t from"@radix-ui/react-slider";import*as i from"react";import{sanitizeNamespaceImport as a,isFunction as l,classNameModifier as o}from"@aws-amplify/ui";import{ComponentClassNames as s}from"../shared/constants.mjs";import"../Field/FieldClearButton.mjs";import{FieldDescription as d}from"../Field/FieldDescription.mjs";import{FieldErrorMessage as m}from"../Field/FieldErrorMessage.mjs";import"../Field/Field.mjs";import{FieldGroup as n}from"../FieldGroup/FieldGroup.mjs";import{Flex as c}from"../Flex/Flex.mjs";import{Label as u}from"../Label/Label.mjs";import{splitPrimitiveProps as p}from"../utils/splitPrimitiveProps.mjs";import{View as F}from"../View/View.mjs";import{useStableId as b}from"../utils/useStableId.mjs";import{useFieldset as f}from"../Fieldset/useFieldset.mjs";const{Range:S,Root:g,Thumb:C,Track:E}=a(t),h="slider-label",k="slider-root",v="slider-track",j="slider-range",T=i.forwardRef(((t,a)=>{var{ariaValuetext:T,className:y,defaultValue:V=0,descriptiveText:x,emptyTrackColor:N,errorMessage:R,filledTrackColor:z,formatValue:H,hasError:w=!1,id:I,isDisabled:M,isValueHidden:D=!1,label:G,labelHidden:L=!1,onChange:P,orientation:O="horizontal",outerEndComponent:B,outerStartComponent:q,testId:A,thumbColor:J,trackSize:K,value:Q,size:U}=t,W=e(t,["ariaValuetext","className","defaultValue","descriptiveText","emptyTrackColor","errorMessage","filledTrackColor","formatValue","hasError","id","isDisabled","isValueHidden","label","labelHidden","onChange","orientation","outerEndComponent","outerStartComponent","testId","thumbColor","trackSize","value","size"]);const{isFieldsetDisabled:X}=f(),Y=b(I),Z=b(),$=b(),_=x?$:void 0,{styleProps:ee,rest:re}=p(W),te=void 0!==Q,[ie,ae]=i.useState(te?Q:V),le=te?[Q]:void 0,oe=te?void 0:[V],se=i.useCallback((e=>{ae(e[0]),l(P)&&P(e[0])}),[P]),de=i.useMemo((()=>{const e=l(H)?H(ie):ie;return"string"==typeof H?i.createElement(F,{as:"span"},e):e}),[ie,H]),me="vertical"===O,ne=r(s.SliderFieldTrack,o(s.SliderFieldTrack,O),o(s.SliderFieldTrack,U)),ce=r(s.SliderFieldRoot,o(s.SliderFieldRoot,O),o(s.SliderFieldRoot,U),y);return i.createElement(c,Object.assign({className:r(s.Field,o(s.Field,U),s.SliderField),testId:A,"data-size":U},ee),i.createElement(u,{className:s.SliderFieldLabel,id:Z,testId:h,visuallyHidden:L},i.createElement(F,{as:"span"},G),D?null:de),i.createElement(d,{id:$,labelHidden:L,descriptiveText:x}),i.createElement(n,{className:s.SliderFieldGroup,id:Y,orientation:O,outerStartComponent:q,outerEndComponent:B},i.createElement(g,Object.assign({className:ce,"data-testid":k,disabled:X||M,defaultValue:oe,onValueChange:se,orientation:O,ref:a,value:le},re),i.createElement(E,{className:ne,"data-testid":v,style:{backgroundColor:String(N),[""+(me?"width":"height")]:K}},i.createElement(S,{className:r(s.SliderFieldRange,o(s.SliderFieldRange,O)),"data-testid":j,style:{backgroundColor:String(z)}})),i.createElement(C,{"aria-describedby":_,"aria-labelledby":Z,"aria-valuetext":T,className:r(s.SliderFieldThumb,o(s.SliderFieldThumb,U)),style:{backgroundColor:String(J)}}))),i.createElement(m,{hasError:w,errorMessage:R}))}));T.displayName="SliderField";export{h as SLIDER_LABEL_TEST_ID,j as SLIDER_RANGE_TEST_ID,k as SLIDER_ROOT_TEST_ID,v as SLIDER_TRACK_TEST_ID,T as SliderField};
