import{__rest as e}from"tslib";import*as t from"react";import r from"classnames";import{useStepper as i}from"./useStepper.mjs";import"../Field/FieldClearButton.mjs";import{FieldDescription as a}from"../Field/FieldDescription.mjs";import{FieldErrorMessage as s}from"../Field/FieldErrorMessage.mjs";import"../Field/Field.mjs";import{FieldGroup as o}from"../FieldGroup/FieldGroup.mjs";import"../FieldGroupIcon/FieldGroupIcon.mjs";import{FieldGroupIconButton as l}from"../FieldGroupIcon/FieldGroupIconButton.mjs";import{Flex as n}from"../Flex/Flex.mjs";import"../Icon/Icon.mjs";import"../Icon/context/IconsContext.mjs";import{useIcons as d}from"../Icon/context/useIcons.mjs";import{IconAdd as m}from"../Icon/icons/IconAdd.mjs";import{ComponentClassNames as p,ComponentText as c}from"../shared/constants.mjs";import"../View/View.mjs";import{IconRemove as u}from"../Icon/icons/IconRemove.mjs";import{Input as b}from"../Input/Input.mjs";import{Label as F}from"../Label/Label.mjs";import{classNameModifier as f,classNameModifierByFlag as I}from"@aws-amplify/ui";import{splitPrimitiveProps as j}from"../utils/splitPrimitiveProps.mjs";import{useStableId as v}from"../utils/useStableId.mjs";const h="decrease-icon",S="increase-icon",B=t.forwardRef(((B,E)=>{var g,D;const{className:y,defaultValue:C,descriptiveText:L,errorMessage:O,hasError:x=!1,id:R,inputStyles:N,isDisabled:V,isReadOnly:z,isRequired:G,increaseButtonLabel:w=c.StepperField.increaseButtonLabel,decreaseButtonLabel:H=c.StepperField.decreaseButtonLabel,label:M,labelHidden:$=!1,onStepChange:q,size:P,testId:T,value:k,variation:W}=B,A=e(B,["className","defaultValue","descriptiveText","errorMessage","hasError","id","inputStyles","isDisabled","isReadOnly","isRequired","increaseButtonLabel","decreaseButtonLabel","label","labelHidden","onStepChange","size","testId","value","variation"]),J=v(R),K=v(),Q=L?K:void 0,{styleProps:U,rest:X}=j(A),Y=d("stepperField"),{step:Z,value:_,inputValue:ee,handleDecrease:te,handleIncrease:re,handleOnBlur:ie,handleOnChange:ae,handleOnWheel:se,setInputValue:oe,shouldDisableDecreaseButton:le,shouldDisableIncreaseButton:ne}=i(Object.assign(Object.assign({},B),{defaultValue:C,onStepChange:q}));return t.useEffect((()=>{void 0!==k&&oe(k)}),[k,oe]),t.createElement(n,Object.assign({className:r(p.Field,f(p.Field,P),p.StepperField,y),"data-size":P,"data-variation":W,testId:T},U),t.createElement(F,{htmlFor:J,visuallyHidden:$},M),t.createElement(a,{id:K,labelHidden:$,descriptiveText:L}),t.createElement(o,{outerStartComponent:t.createElement(l,{"aria-controls":J,ariaLabel:`${H} ${_-Z}`,className:r(p.StepperFieldButtonDecrease,f(p.StepperFieldButtonDecrease,W),I(p.StepperFieldButtonDecrease,"disabled",le)),"data-invalid":x,isDisabled:le,onClick:te,size:P},null!==(g=null==Y?void 0:Y.remove)&&void 0!==g?g:t.createElement(u,{"data-testid":h})),outerEndComponent:t.createElement(l,{"aria-controls":J,ariaLabel:`${w} ${_+Z}`,className:r(p.StepperFieldButtonIncrease,f(p.StepperFieldButtonIncrease,W),I(p.StepperFieldButtonIncrease,"disabled",ne)),"data-invalid":x,isDisabled:ne,onClick:re,size:P},null!==(D=null==Y?void 0:Y.add)&&void 0!==D?D:t.createElement(m,{"data-testid":S}))},t.createElement(b,Object.assign({"aria-describedby":Q,className:p.StepperFieldInput,hasError:x,id:J,isDisabled:V,isReadOnly:z,isRequired:G,onBlur:ie,onChange:ae,onWheel:se,ref:E,size:P,variation:W,type:"number",value:ee},N,X))),t.createElement(s,{hasError:x,errorMessage:O}))}));B.displayName="StepperField";export{h as DECREASE_ICON,S as INCREASE_ICON,B as StepperField};
