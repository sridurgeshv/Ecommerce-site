import*as e from"react";import{configureComponent as s,isFunction as o}from"@aws-amplify/ui";import{AuthenticatorProvider as r,useAuthenticator as t,useAuthenticatorInitMachine as i}from"@aws-amplify/ui-react-core";import{VERSION as m}from"../../version.mjs";import{useDeprecationWarning as n}from"../../hooks/useDeprecationWarning.mjs";import{CustomComponentsContext as a}from"./hooks/useCustomComponents/useCustomComponents.mjs";import"../../primitives/View/View.mjs";import{Router as p}from"./Router/Router.mjs";import{SetupTOTP as u}from"./SetupTOTP/SetupTOTP.mjs";import{SignIn as c}from"./SignIn/SignIn.mjs";import{SignUp as l}from"./SignUp/SignUp.mjs";import{ForceNewPassword as f}from"./ForceNewPassword/ForceNewPassword.mjs";import"./ResetPassword/ConfirmResetPassword.mjs";import{ResetPassword as d}from"./ResetPassword/ResetPassword.mjs";import{defaultComponents as g}from"./hooks/useCustomComponents/defaultComponents.mjs";function w({children:s,className:r,components:m,formFields:u,hideSignUp:c,initialState:l,loginMechanisms:f,passwordSettings:d,signUpAttributes:w,services:j,socialProviders:P,variation:S}){n({message:"The `passwordSettings` prop has been deprecated and will be removed in a future major version of Amplify UI.",shouldWarn:!!d});const{route:v,signOut:h,user:O}=t((({route:e,signOut:s,user:o})=>[e,s,o]));i({initialState:l,loginMechanisms:f,services:j,signUpAttributes:w,socialProviders:P,formFields:u});const C=e.useMemo((()=>({components:Object.assign(Object.assign({},g),m)})),[m]);return"authenticated"===v||"signOut"===v?s?e.createElement(e.Fragment,null,o(s)?s({signOut:h,user:O}):s):null:e.createElement(a.Provider,{value:C},e.createElement(p,{className:r,hideSignUp:c,variation:S}))}function j(o){return e.useEffect((()=>{s({packageName:"@aws-amplify/ui-react",version:m})}),[]),e.createElement(r,null,e.createElement(w,Object.assign({},o)))}j.Provider=r,j.ResetPassword=d,j.SetupTOTP=u,j.SignIn=c,j.SignUp=l,j.ForceNewPassword=f;export{j as Authenticator,w as AuthenticatorInternal};
