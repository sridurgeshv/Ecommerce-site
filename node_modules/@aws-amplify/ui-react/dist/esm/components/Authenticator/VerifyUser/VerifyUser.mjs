import e from"react";import{authenticatorTextUtil as t,defaultFormFieldOptions as r,translate as o,censorPhoneNumber as n,censorAllButFirstAndLast as i}from"@aws-amplify/ui";import{Flex as m}from"../../../primitives/Flex/Flex.mjs";import{Heading as a}from"../../../primitives/Heading/Heading.mjs";import{Radio as l}from"../../../primitives/Radio/Radio.mjs";import{RadioGroupField as s}from"../../../primitives/RadioGroupField/RadioGroupField.mjs";import{useAuthenticator as u}from"@aws-amplify/ui-react-core";import{useCustomComponents as c}from"../hooks/useCustomComponents/useCustomComponents.mjs";import{useFormHandlers as d}from"../hooks/useFormHandlers/useFormHandlers.mjs";import{RemoteErrorMessage as f}from"../shared/RemoteErrorMessage.mjs";import{TwoButtonSubmitFooter as p}from"../shared/TwoButtonSubmitFooter.mjs";import{RouteContainer as g}from"../RouteContainer/RouteContainer.mjs";const{getSkipText:v,getVerifyText:E,getVerifyContactText:h,getAccountRecoveryInfoText:y}=t,F=t=>Object.entries(t).map((([t,m])=>e.createElement(l,{name:"unverifiedAttr",value:t,key:t},((e,t)=>{const r=o(e);let m=t;if("Phone Number"===e)m=n(t);else if("Email"===e){const e=t.split("@");m=`${i(e[0])}@${e[1]}`}return`${r}: ${m}`})(r[t].label,m)))),b=({className:t,variation:r})=>{const{components:{VerifyUser:{Header:o=b.Header,Footer:n=b.Footer}}}=c(),{isPending:i,unverifiedContactMethods:a}=u((({isPending:e,unverifiedContactMethods:t})=>[e,t])),{handleChange:l,handleSubmit:y}=d(),C=i?e.createElement(e.Fragment,null,"Verifyingâ€¦"):e.createElement(e.Fragment,null,E()),j=e.createElement(s,{label:h(),labelHidden:!0,name:"verify_context",isDisabled:i},F(a));return e.createElement(g,{className:t,variation:r},e.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-verifyuser":"",method:"post",onChange:l,onSubmit:y},e.createElement(m,{as:"fieldset",direction:"column",isDisabled:i},e.createElement(o,null),j,e.createElement(f,null),e.createElement(p,{cancelButtonText:v(),cancelButtonSendType:"SKIP",submitButtonText:C}),e.createElement(n,null))))};b.Header=function(){return e.createElement(a,{level:3},y())},b.Footer=function(){return null};export{b as VerifyUser};
